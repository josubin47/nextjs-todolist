# Next.js ê³µì‹ í™ˆí˜ì´ì§€ ë¬¸ì„œë¥¼ í•™ìŠµí•˜ë©° Todolist ë§Œë“¤ê¸°

### ì‚¬ìš© ê¸°ìˆ 

- React
- Typescript
- Next.js

## Next.js ì´ë¡  í•™ìŠµ

### Next.jsë€

Reactì˜ SSR(Server Side Rendering)ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ê°„ë‹¨í•œ í”„ë ˆì„ì›Œí¬

### ë‹¤ë¥¸ í˜ì´ì§€ë¥¼ ë§Œë“œëŠ” ë°©ë²•

pages ë””ë ‰í† ë¦¬ ë°‘ì— íŒŒì¼ì„ ë§Œë“¤ë©´ ê·¸ íŒŒì¼ì˜ ê²½ë¡œê°€ URL ê²½ë¡œê°€ ëœë‹¤

### ë§í¬ ì»´í¬ë„ŒíŠ¸

aíƒœê·¸ë¥¼ ê°ì‹¸ëŠ” Link ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤. LinkëŠ” ì•± ë‚´ì—ì„œ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë„¤ë¹„ê²Œì´ì…˜ì„ í•  ìˆ˜ ìˆê²Œ í—ˆìš©í•´ì¤€ë‹¤.

```jsx
<Link href="posts/FirstPage">
  <a>ë§í¬ ì´ë™ í…ŒìŠ¤íŠ¸</a>
</Link>
```

> í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë„¤ë¹„ê²Œì´ì…˜ : í˜ì´ì§€ ì „í™˜ì´ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•´ ì´ë£¨ì–´ì§„ë‹¤. ë¸Œë¼ìš°ì €ì˜ ê¸°ë³¸ ë„¤ì´ê²Œì´ì…˜ì— ì˜í•´ ì™„ë£Œë˜ëŠ” ê²ƒë³´ë‹¤ ë¹ ë¥´ë‹¤.

### ìë™ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

NextëŠ” ìë™ì˜ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ í•˜ê¸° ë•Œë¬¸ì— ê° í˜ì´ì§€ëŠ” ê·¸ í˜ì´ì§€ì— í•„ìš”í•œ ê²ƒë“¤ë§Œì„ ë¶ˆëŸ¬ì˜¨ë‹¤. **_ë¹ ë¥¸ ë¡œë”©ì„ ë³´ì¥í•œë‹¤._**

ë˜í•œ Nextì˜ í”„ë¡œë•ì…˜ ë¹Œë“œì—ì„œ Linkêµ¬ì„± ìš”ì†Œê°€ ë¸Œë¼ìš°ì €ì˜ ë·°í¬íŠ¸ì— ë‚˜íƒ€ë‚  ë•Œë§ˆë‹¤ Next ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì—°ê²°ëœ í˜ì´ì§€ì— ëŒ€í•œ ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ **ë¯¸ë¦¬ ê°€ì ¸ì˜¨ë‹¤(í”„ë¦¬í˜ì¹˜)**. ë§í¬ë¥¼ í´ë¦­í•  ë•Œì¯¤ì´ë©´ ëŒ€ìƒ í˜ì´ì§€ì˜ ì½”ë“œê°€ ì´ë¯¸ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë¡œë“œë˜ê³  í˜ì´ì§€ ì „í™˜ì´ ê±°ì˜ ì¦‰ê°ì ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤.

ğŸ‘‰ **Next.jsëŠ” ì½”ë“œ ë¶„í• , í´ë¼ì´ì–¸íŠ¸ ì¸¡ íƒìƒ‰ ë° í”„ë¦¬í˜ì¹˜(í”„ë¡œë•ì…˜ì—ì„œ)ë¥¼ í†µí•´ ìµœìƒì˜ ì„±ëŠ¥ì„ ìœ„í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìë™ìœ¼ë¡œ ìµœì í™”í•œë‹¤.**

### ì´ë¯¸ì§€ ì‚½ì…

Image ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ë¯¸ì§€ í¬ê¸° ì¡°ì • ë° ìµœì í™”ë¥¼ ì§€ì›í•´ì¤€ë‹¤.

### ë©”íƒ€ë°ì´í„° ìˆ˜ì •

Nextì— ë‚´ì¥ëœ Head ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤. í˜ì´ì§€ì˜ headë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

### CSS

> CSS ëª¨ë“ˆì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” CSSíŒŒì¼ ì´ë¦„ì€ ë°˜ë“œì‹œ 'module.css' ë¡œ ëë‚˜ì•¼ í•œë‹¤.

```jsx
import styles from "./layout.module.css";

<div className={styles.container}></div>;
```

ìë™ìœ¼ë¡œ ê³ ìœ í•œ í´ë˜ìŠ¤ ì´ë¦„ì„ ìƒì„±í•œë‹¤.

Next.jsì˜ ì½”ë“œ ë¶„í•  ê¸°ëŠ¥ì€ CSS ëª¨ë“ˆ ì—ì„œë„ ì‘ë™í•œë‹¤. ê° í˜ì´ì§€ì— ëŒ€í•´ ìµœì†Œí•œì˜ CSS ë¡œë“œë¥¼ ë³´ì¥í•˜ê¸° ë•Œë¬¸ì— ê²°ê³¼ì ìœ¼ë¡œ ë²ˆë“¤ í¬ê¸°ê°€ ë” ì‘ì•„ì§„ë‹¤.

CSS ëª¨ë“ˆì€ ë¹Œë“œì‹œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë²ˆë“¤ë¡œë¶€í„° ì¶”ì¶œë˜ê³ , Next.jsì— ì˜í•´ ìë™ìœ¼ë¡œ ë¡œë“œë˜ëŠ” .css íŒŒì¼ì„ ìƒì„±í•œë‹¤.

### Global Style

CSS ëª¨ë“ˆì€ ì»´í¬ë„ŒíŠ¸ ë ˆë²¨ ìŠ¤íƒ€ì¼ì— ìœ ìš©í•˜ë‹¤. í•˜ì§€ë§Œ ëª¨ë“  í˜ì´ì§€ì— ë¡œë“œë  CSSë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ì§€ì›í•œë‹¤.

\_app.js íŒŒì¼ì„ ìƒì„±í•œë‹¤. App ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ë¥¸ ëª¨ë“  ëª¨ë“  í˜ì´ì§€ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  ìµœìƒìœ„ ë ˆë²¨ ì»´í¬ë„ŒíŠ¸ì´ë‹¤.

ì „ì—­ CSS íŒŒì¼ì€ \_app.js ë‚´ë¶€ì—ì„œë§Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. ë‹¤ë¥¸ ê³³ì—ì„œëŠ” ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŒ.

> \_app.jsëŠ” í˜ì´ì§€ë¥¼ navigating í•  ë•Œ state(ìƒíƒœ) ìœ ì§€í•˜ëŠ” ì—­í•  ë“±ì„ ë§¡ëŠ”ë‹¤.

### ì‚¬ì „ ëœë”ë§ (Pre-rendering)

**Next.jsì˜ ê°€ì¥ ì¤‘ìš”í•œ ê°œë… ì¤‘ í•˜ë‚˜.** ê¸°ë³¸ì ìœ¼ë¡œ Next.jsëŠ” ëª¨ë“  í˜ì´ì§€ë¥¼ ë¯¸ë¦¬ ëœë”ë§í•©ë‹ˆë‹¤. ì¦‰, í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ëª¨ë“  ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ëŒ€ì‹  *ê° í˜ì´ì§€ì— ëŒ€í•´ ë¯¸ë¦¬ HTMLì„ ìƒì„±*í•œë‹¤ëŠ” ì˜ë¯¸. ì‚¬ì „ ëœë”ë§ì„ ì‚¬ìš©í•˜ë©´ ë” ë‚˜ì€ ì„±ëŠ¥ê³¼ SEO(ê²€ìƒ‰ì—”ì§„ ìµœì í™”)ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.

ìƒì„±ëœ ê° HTMLì€ í•´ë‹¹ í˜ì´ì§€ì— í•„ìš”í•œ ìµœì†Œí•œì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì™€ ì—°ê²°ëœë‹¤. ë¸Œë¼ìš°ì €ì—ì„œ í˜ì´ì§€ë¥¼ ë¡œë“œí•˜ë©´ í•´ë‹¹ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ë˜ê³  ì™„ë²½íˆ ìƒí˜¸ì‘ìš© ê°€ëŠ¥í•œ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ ë‚¸ë‹¤. (ì´ ì‘ì—…ì„ hydrationì´ë¼ê³  ë¶€ë¦„)

Next.jsê°€ ì•±ì„ ì •ì  HTMLë¡œ ë¯¸ë¦¬ ëœë”ë§í•˜ì—¬ JavaScriptë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³ ë„ ì•± UIë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ì•±ì´ Next.jsê°€ ì—†ëŠ” ì¼ë°˜ React.js ì•±ì¸ ê²½ìš° ì‚¬ì „ ëœë”ë§ ì´ ì—†ìœ¼ë¯€ë¡œ JavaScriptë¥¼ ë¹„í™œì„±í™”í•˜ë©´ ì•±ì„ ë³¼ ìˆ˜ ì—†ë‹¤.

ğŸ‘‰ ìµœì†Œí•œì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•œ ëœë”ë§ì„ í•˜ê³  ì´í›„ì—ëŠ” ì°¨ì°¨ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë“¤ì„ ë°›ì•„ì™€ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ í•´ì„í•˜ëŠ”, ì¦‰ CSRê³¼ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ì§„í–‰. **ì²˜ìŒì—” SSR, ì´í›„ì—” CSR ë°©ì‹.**

### ë‘ ê°€ì§€ í˜•íƒœì˜ ì‚¬ì „ ëœë”ë§

1. ì •ì  ìƒì„±
2. ì„œë²„ ì‚¬ì´ë“œ ëœë”ë§

ë‘˜ì˜ ì°¨ì´ëŠ” í˜ì´ì§€ì— ëŒ€í•œ HTMLì„ _ìƒì„±í•  ë•Œ_ ìˆë‹¤.

- ì •ì  ìƒì„±ì€ _ë¹Œë“œ ì‹œ_ HTMLì„ ìƒì„±í•œë‹¤. ì‚¬ì „ ëœë”ë§ ëœ HTMLì€ ê° ìš”ì²­ì—ì„œ ì¬ì‚¬ìš©ëœë‹¤.
- ì„œë²„ ì‚¬ì´ë“œ ëœë”ë§ì€ _ê° ìš”ì²­ë§ˆë‹¤_ HTMLì„ ìƒì„±í•œë‹¤.

ì¤‘ìš”í•œ ê²ƒì€, Next.jsê°€ ê° í˜ì´ì§€ë¥¼ ìœ„í•´ **ì–´ë–¤ ì‚¬ì „ ëœë”ë§ í˜•íƒœë¥¼ ì‚¬ìš©í•  ê²ƒì¸ì§€ ì„ íƒí•˜ê²Œ í•´ì¤€ë‹¤ëŠ” ê²ƒ**. ëŒ€ë¶€ë¶„ì˜ í˜ì´ì§€ì— ì •ì  ìƒì„±ì„ ì‚¬ìš©í•˜ê³  ë‚˜ë¨¸ì§€ í˜ì´ì§€ì— ì„œë²„ ì‚¬ì´ë“œ ëœë”ë§ì„ ì‚¬ìš©í•˜ì—¬ "í•˜ì´ë¸Œë¦¬ë“œ" Next.js ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

### ì–´ë–¤ ì‚¬ì „ ëœë”ë§ ë°©ë²•ì„ ì„ íƒí•´ì•¼ í• ê¹Œ

**ë°ì´í„° ìœ ë¬´ì™€ ê´€ê³„ì—†ì´ ê°€ëŠ¥í•˜ë©´ ì •ì  ìƒì„± ì¶”ì²œ**. CDN ì„œë²„ì—ì„œ í˜ì´ì§€ë¥¼ í•œ ë²ˆ ë¹Œë“œí•˜ê³  ì œê³µí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë§¤ ìš”ì²­ë§ˆë‹¤ HTMLì„ ìƒì„±í•˜ëŠ” ê²ƒ(ì„œë²„ ì‚¬ì´ë“œ ëœë”ë§)ë³´ë‹¤ í›¨ì”¬ ë¹ ë¥´ë‹¤.

"**ì‚¬ìš©ìì˜ ìš”ì²­ ì „ì—** í˜ì´ì§€ë¥¼ ë¯¸ë¦¬ ëœë”ë§í•  ìˆ˜ ìˆì„ê¹Œ?"ì— ëŒ€í•œ ë‹µì´ "ì˜ˆ"ë¼ë©´ ì •ì  ìƒì„±ì„ ì„ íƒí•´ì•¼ í•˜ê³ , "ì•„ë‹ˆì˜¤"ë¼ë©´ ì •ì  ìƒì„±ì€ ì¢‹ì€ ì„ íƒì´ ì•„ë‹ˆë‹¤.

_í˜ì´ì§€ê°€ ìì£¼ ì—…ë°ì´íŠ¸ ëœ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ê³ . ë§¤ ìš”ì²­ë§ˆë‹¤ í˜ì´ì§€ ì½˜í…ì¸ ê°€ ë³€ê²½ë  ìˆ˜ ìˆê³ , ëª¨ë“  ìš”ì²­ì— ëŒ€í•´ ë°ì´í„°ë¥¼ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•´ì•¼ í•œë‹¤ë©´ ì„œë²„ ì‚¬ì´ë“œ ëœë”ë§ì„ ì‚¬ìš©í•œë‹¤_ ì†ë„ëŠ” ëŠë ¤ì§€ì§€ë§Œ ë¯¸ë¦¬ ëœë”ë§ëœ í˜ì´ì§€ëŠ” í•­ìƒ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€ëœë‹¤. í˜¹ì€ ì‚¬ì „ ëœë”ë§ì„ ê±´ë„ˆë›°ê³  í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ìì£¼ ì—…ë°ì´íŠ¸ ë˜ëŠ” ë°ì´í„°ë¥¼ ì±„ìš¸ ìˆ˜ ìˆë‹¤.

> SSR ëŒ€ì‹  SWR (CSR React Hook)ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤.

### [ë°ì´í„° ê°€ì ¸ì˜¤ê¸°](https://nextjs.org/docs/basic-features/data-fetching)

ì¼ë¶€ í˜ì´ì§€ëŠ” ì‚¬ì „ ëœë”ë§ì„ ìœ„í•´ ì™¸ë¶€ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•œë‹¤. ë°ì´í„° ì¢…ì†ì„±ì„ ê°€ì§€ê³  ìˆì–´ ì‚¬ì „ ëœë”ë§ ì‹œ ë°ì´í„°ë¶€í„° í•´ê²° í•„ìš”.

1. í˜ì´ì§€ **ì½˜í…ì¸ **ê°€ ì™¸ë¶€ ë°ì´í„°ì— ì˜ì¡´í•  ê²½ìš°
2. í˜ì´ì§€ **ê²½ë¡œ**ê°€ ì™¸ë¶€ ë°ì´í„°ì— ì˜ì¡´í•  ê²½ìš°

ì‚¬ì „ ëœë”ë§ì„ ìœ„í•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì„¸ ê°€ì§€ ê³ ìœ í•œ í•¨ìˆ˜.

- getStaticProps(ì •ì  ìƒì„±) : ë¹Œë“œ ì‹œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
- getStaticPaths(ì •ì  ìƒì„±) : ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ë¯¸ë¦¬ ëœë”ë§í•˜ëŠ” ë™ì  ê²½ë¡œ ë¥¼ ì§€ì •í•œë‹¤.
- getServerSideProps(ì„œë²„ ì¸¡ ëœë”ë§) : ê° ìš”ì²­ë§ˆë‹¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

### [getStaticProps](https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation) (ì •ì  ìƒì„±)

Next.js ì—ì„œ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‚´ë³´ë‚¼ ë•Œ, 'getStaticProps' ë¼ëŠ” 'async' í•¨ìˆ˜ë„ ë‚´ë³´ë‚¼ ìˆ˜ ìˆë‹¤. ì´ê±¸ ì‚¬ìš©í•˜ë©´ getStaticPropsê°€ í”„ë¡œë•ì…˜ì—ì„œ ë¹Œë“œ ì‹œ ì‹¤í–‰ë˜ê³ , í•¨ìˆ˜ ì•ˆì— ì™¸ë¶€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  í˜ì´ì§€ì˜ propsë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.

contextëŠ” ë™ì  ë¼ìš°íŒ…ì„ ìœ„í•œ params, ë¯¸ë¦¬ë³´ê¸° ì •ë³´ ê·¸ë¦¬ê³  locale ì •ë³´ë¥¼ ê°€ì§„ë‹¤.

```jsx
export async function getStaticProps(context) {
  return {
    props: {}, // will be passed to the page component as props
  };
}
```

ğŸ˜ƒ **íŠ¹ì§•**

1. í•œë²ˆ ë¹Œë“œë˜ê³  ë‚˜ë©´ ì •ì ìœ¼ë¡œ ì›€ì§ì´ì§€ ì•ŠëŠ”ë‹¤.
2. ë¹Œë“œ ì‹œ ë¦¬ë””ë ‰ì…˜ì€ í˜„ì¬ í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. Next.js 9.5 ë²„ì „ë¶€í„°ëŠ” redirects í‚¤ ì•„ë˜ next.config.jsì—ì„œ ë¦¬ë‹¤ì´ë ‰ì…˜ ëª©ë¡ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
3. getStaticProps ì•ˆì—ì„œ ì„œë²„ ì½”ë“œë¥¼ ì§ì ‘ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì•ˆì—ì„œ [API ê²½ë¡œ](https://nextjs.org/docs/api-routes/introduction)ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ fetch()ë¥¼ ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ëœë‹¤. ì™¸ë¶€ API ê°€ì ¸ì˜¤ëŠ” ê±´ ê´œì°®ìŒ.

```jsx
// posts will be populated at build time by getStaticProps()
function Blog({ posts }) {
  return (
    <ul>
      {posts.map((post) => (
        <li>{post.title}</li>
      ))}
    </ul>
  );
}

// This function gets called at build time on server-side.
// It won't be called on client-side, so you can even do
// direct database queries. See the "Technical details" section.
export async function getStaticProps() {
  // Call an external API endpoint to get posts.
  // You can use any data fetching library
  const res = await fetch("https://.../posts");
  const posts = await res.json();

  // By returning { props: { posts } }, the Blog component
  // will receive `posts` as a prop at build time
  return {
    props: {
      posts,
    },
  };
}

export default Blog;
```

1. ì„œë²„ ì‚¬ì´ë“œì—ì„œë§Œ ì‘ë™ëœë‹¤. _í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ì ˆëŒ€ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤._ bundle.jsì—ë„ ì—†ê¸° ë•Œë¬¸ì— ì§ì ‘ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ì™€ ê°™ì€ ì½”ë“œë¥¼ ì‘ì„± í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë¸Œë¼ìš°ì €ìš© document ë“±ì˜ DOM APIëŠ” ì‚¬ìš© í•  ìˆ˜ ì—†ë‹¤.
2. ë¹Œë“œì‹œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— HTMLì„ ìƒì„±í• ë•Œ HTTP í—¤ë”ì™€ ê°™ì´ ìš”ì²­ì‹œì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ì§€ ì•ŠëŠ”ë‹¤.
3. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ì‹œ GetStaticPropsë¥¼ ì‚¬ìš©í•˜ì—¬ íƒ€ì… ì§€ì •ì´ ê°€ëŠ¥í•˜ë‹¤.

```jsx
import { GetStaticProps } from "next";

export const getStaticProps: GetStaticProps = async (context) => {
  // ...
};
```

1. ê°œë°œ ëª¨ë“œì—ì„œ, 'getStaticProps' ëŠ” ê° ìš”ì²­ë§ˆë‹¤ ì‹¤í–‰ëœë‹¤.
2. í˜ì´ì§€ì—ì„œë§Œ ë‚´ë³´ë‚¼ ìˆ˜ ìˆë‹¤. í˜ì´ì§€ê°€ ëœë”ë§ ë˜ê¸° ì „ì— í•„ìš”í•œ ëª¨ë“  ë°ì´í„°ê°€ ìˆì–´ì•¼í•˜ê¸° ë•Œë¬¸. ë˜í•œ export async function getStaticProps() {} ì˜ í˜•íƒœë¡œë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë©° propsë¡œëŠ” í™œìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
3. Next 9.4 ì´ìƒì€ [ë¯¸ë¦¬ë³´ê¸° ëª¨ë“œ](https://nextjs.org/docs/advanced-features/preview-mode) ì§€ì›.

### [getStaticPaths](https://nextjs.org/docs/basic-features/data-fetching#getstaticpaths-static-generation) (ì •ì  ìƒì„±)

ë™ì  ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ëŠ” í˜ì´ì§€ì—ì„œ getStaticPathsë¼ëŠ” async í•¨ìˆ˜ë¥¼ ë‚´ë³´ë‚´ë©´ Next.jsëŠ” getStaticPathsì—ì„œ ì§€ì •í•œ ëª¨ë“  ê²½ë¡œë¥¼ ì •ì ìœ¼ë¡œ ì‚¬ì „ ëœë”ë§í•œë‹¤.

ë™ì  ê²½ë¡œ ë§¤ê°œ ë³€ìˆ˜ê°€ ìˆëŠ” í˜ì´ì§€ì—ì„œ getStaticPropsë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° getStaticPathsë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```jsx
export async function getStaticPaths() {
  return {
    paths: [
      { params: { ... } } // See the "paths" section below
    ],
    fallback: true or false // See the "fallback" section below
  };
}
```

**paths** (í•„ìˆ˜ê°’) : ë¯¸ë¦¬ ëœë”ë§í•  ê²½ë¡œë¥¼ ê²°ì •.

**fallback** (í•„ìˆ˜ê°’)

- false : getStaticPath ê°€ ë°˜í™˜í•˜ì§€ ì•ŠëŠ” ëª¨ë“  ê²½ë¡œëŠ” 404 í˜ì´ì§€. ì‚¬ì „ ëœë”ë§í•  ê²½ë¡œê°€ ì ê³  ìƒˆ í˜ì´ì§€ê°€ ìì£¼ ì¶”ê°€ë˜ì§€ ì•ŠëŠ” ê²½ìš° ìœ ìš©í•˜ë‹¤. _ë°ì´í„° ì†ŒìŠ¤ì— í•­ëª©ì„ ë” ì¶”ê°€í•˜ê³  ìƒˆ í˜ì´ì§€ë¥¼ ëœë”ë§í•´ì•¼ í•˜ëŠ” ê²½ìš° ë‹¤ì‹œ ë¹Œë“œí•´ì•¼ í•œë‹¤._
- true : getStaticPathë¡œë¶€í„° ë¦¬í„´ë˜ëŠ” ê²½ë¡œëŠ” ë¹Œë“œ ì‹œ getStaticPropsë¥¼ ê±°ì³ HTMLë¡œ ëœë”ë§ ëœë‹¤. **ë¹Œë“œ ì‹œ ìƒì„±ë˜ì§€ ì•Šì€ ê²½ë¡œëŠ” 404 í˜ì´ì§€ë¥¼ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤. ëŒ€ì‹  í˜ì´ì§€ì˜ fallback ë²„ì „(ëŒ€ì²´ í˜ì´ì§€)ì„ ì œê³µ.** ë°±ê·¸ë¼ìš´ë“œì—ì„œ Next.jsëŠ” ìš”ì²­ëœ ê²½ë¡œ HTML ë° JSONì„ ì •ì ìœ¼ë¡œ ìƒì„±í•œë‹¤. ì—¬ê¸°ì—ëŠ” getStaticProps ì‹¤í–‰ì´ í¬í•¨ëœë‹¤. ì™„ë£Œë˜ë©´ ë¸Œë¼ìš°ì €ëŠ” ìƒì„±ëœ ê²½ë¡œì— ëŒ€í•œ JSONì„ ìˆ˜ì‹ í•˜ê³  í˜ì´ì§€ë¥¼ ìë™ìœ¼ë¡œ ëœë”ë§í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤. ì‚¬ìš©ì ê´€ì ì—ì„œ í˜ì´ì§€ëŠ” ëŒ€ì²´ í˜ì´ì§€ì—ì„œ ì „ì²´ í˜ì´ì§€ë¡œ êµì²´ëœë‹¤. ë™ì‹œì— Next.jsëŠ” ì´ ê²½ë¡œë¥¼ ë¯¸ë¦¬ ëœë”ë§ ëœ í˜ì´ì§€ ëª©ë¡ì— ì¶”ê°€í•œë‹¤.
- blocking : getStaticPathsì—ì„œ ë°˜í™˜í•˜ì§€ ì•Šì€ ê²½ë¡œëŠ” SSRê³¼ ë™ì¼í•œ HTMLì´ ìƒì„±ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦°ë‹¤. ì´í›„ ìš”ì²­ì„ ìœ„í•´ ìºì‹œë˜ì–´ ê²½ë¡œë‹¹ í•œë²ˆë§Œ ë°œìƒí•œë‹¤. ë¹Œë“œ ì‹œ ìƒì„±ë˜ì§€ ì•Šì€ ê²½ë¡œëŠ” 404 í˜ì´ì§€ë¥¼ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤. ëŒ€ì‹  Next.jsëŠ” ì²« ë²ˆì§¸ ìš”ì²­ì—ì„œ SSRì„ ìˆ˜í–‰í•˜ê³  ìƒì„±ëœ HTMLì„ ë°˜í™˜í•œë‹¤. ì™„ë£Œë˜ë©´ ë¸Œë¼ìš°ì €ëŠ” ìƒì„±ëœ ê²½ë¡œì— ëŒ€í•œ HTMLì„ ìˆ˜ì‹ í•œë‹¤. ì‚¬ìš©ìì˜ ê´€ì ì—ì„œ "ë¸Œë¼ìš°ì €ê°€ í˜ì´ì§€ë¥¼ ìš”ì²­í•˜ëŠ” ì¤‘"ì—ì„œ "ì „ì²´ í˜ì´ì§€ê°€ ë¡œë“œë¨"ìœ¼ë¡œ ì „í™˜ëœë‹¤. ë¡œë”©/í´ë°± ìƒíƒœì˜ í”Œë˜ì‹œë‹¤ ì—†ë‹¤. ë™ì‹œì— ì´ ê²½ë¡œë¥¼ ì‚¬ì „ ëœë”ë§ëœ í˜ì´ì§€ ëª©ë¡ì— ì¶”ê°€í•œë‹¤. ë™ì¼í•œ ê²½ë¡œì— ëŒ€í•œ í›„ì† ìš”ì²­ì€ ë¹Œë“œ ì‹œ ì‚¬ì „ ëœë”ë§ëœ ë‹¤ë¥¸ í˜ì´ì§€ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìƒì„±ëœ í˜ì´ì§€ë¥¼ ì œê³µí•œë‹¤.

ğŸ¤” **_fallback trueê°€ ìœ ìš©í•œ ê²½ìš°ëŠ” ì–¸ì œì¼ê¹Œ?_**

ë°ì´í„°ì— ì˜ì¡´í•˜ëŠ” ì •ì  í˜ì´ì§€ê°€ ë§¤ìš° ë§ì€ ê²½ìš°. ëª¨ë“  í˜ì´ì§€ë¥¼ ì‚¬ì „ ëœë”ë§í•˜ê³  ì‹¶ì§€ë§Œ ë¹Œë“œì— ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ê¸° ë•Œë¬¸ì— ì‘ì€ ë‹¨ìœ„ë¡œ ì¼ë¶€ í˜ì´ì§€ë§Œ ì •ì ìœ¼ë¡œ ìƒì„±í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” fallback trueë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•œë‹¤. ëˆ„êµ°ê°€ê°€ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì€ í˜ì´ì§€ë¥¼ ìš”ì²­í•˜ë©´ ì‚¬ìš©ìëŠ” ë¡œë”© í‘œì‹œê¸°ê°€ ìˆëŠ” í˜ì´ì§€ë¥¼ ë³´ê²Œ ëœë‹¤. ì ì‹œ í›„ getStaticPropsê°€ ì™„ë£Œë˜ê³  ìš”ì²­í•œ í˜ì´ì§€ê°€ ëœë”ë§ ëœë‹¤. ì´í›„ ë™ì¼í•œ í˜ì´ì§€ë¥¼ ìš”ì²­í•˜ëŠ” ëª¨ë“  ì‚¬ëŒì€ ì •ì ìœ¼ë¡œ ì‚¬ì „ ëœë”ë§ëœ í˜ì´ì§€ë¥¼ ë°›ê²Œ ëœë‹¤. ì´ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” ë¹ ë¥¸ ë¹Œë“œì™€ ì •ì  ìƒì„±ì˜ ì´ì ì„ ìœ ì§€í•˜ë©´ì„œ í•­ìƒ ë¹ ë¥¸ ê²½í—˜ì„ í•  ìˆ˜ ìˆë‹¤.

> fallback trueë¡œ ìƒì„±ëœ í˜ì´ì§€ëŠ” ì—…ë°ì´íŠ¸ ë˜ì§€ ì•ŠëŠ”ë‹¤.

ğŸ˜ƒ íŠ¹ì§•

1. getServerSidePropsì™€ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
2. ì„œë²„ ì¸¡ì—ì„œ ë¹Œë“œ ì‹œì—ë§Œ ì‹±í–‰ëœë‹¤.
3. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì…ì€ GetStaticPaths.

```jsx
import { GetStaticPaths } from "next";

export const getStaticPaths: GetStaticPaths = async () => {
  // ...
};
```

1. ê°œë°œ ëª¨ë“œì—ì„œëŠ” ê° ìš”ì²­ë§ˆë‹¤ ì‹¤í–‰ë˜ê³  í”„ë¡œë•ì…˜ì—ì„œëŠ” ë¹Œë“œì‹œ ì‹¤í–‰ëœë‹¤.
2. í˜ì´ì§€ì—ì„œë§Œ ë‚´ë³´ë‚¼ ìˆ˜ ìˆë‹¤. í˜ì´ì§€ê°€ ëœë”ë§ ë˜ê¸° ì „ì— í•„ìš”í•œ ëª¨ë“  ë°ì´í„°ê°€ ìˆì–´ì•¼í•˜ê¸° ë•Œë¬¸. ë˜í•œ export async function getStaticPaths() {} ì˜ í˜•íƒœë¡œë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë©° propsë¡œëŠ” í™œìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

### [getServerSideProps](https://nextjs.org/docs/basic-features/data-fetching#getserversideprops-server-side-rendering) (SSR)

getServerSidePropsëŠ” ìš”ì²­ì‹œ í˜¸ì¶œëœë‹¤. í˜ì´ì§€ë¥¼ ìš”ì²­í•˜ë©´ getServerSidePropsê°€ ì‹¤í–‰ë˜ê³  ë°˜íšëœ propsë¡œ í˜ì´ì§€ê°€ ì‚¬ì „ ëœë”ë§ëœë‹¤. SSRì€ ì •ì  ìƒì„±ë³´ë‹¤ ëŠë¦´ ìˆ˜ë°–ì— ì—†ë‹¤ëŠ” ì  ìœ ì˜.

```jsx
export async function getServerSideProps(context) {
  return {
    props: {
      // props for your component
    },
  };
}
```

ğŸ˜ƒ íŠ¹ì§•

1. ìš”ì²­ì‹œ ë°ì´í„°ê°€ ë°˜ë“œì‹œ ìˆì–´ì•¼ í•˜ëŠ” í˜ì´ì§€ë¥¼ ì‚¬ì „ ëœë”ë§í•˜ëŠ” ê²½ìš°ì—ë§Œ ì‚¬ìš©í•œë‹¤.
2. ì„œë²„ ì‚¬ì´ë“œì—ì„œë§Œ ì‘ë™ëœë‹¤. _í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ì ˆëŒ€ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤._ bundle.jsì—ë„ ì—†ê¸° ë•Œë¬¸ì— ì§ì ‘ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ì™€ ê°™ì€ ì½”ë“œë¥¼ ì‘ì„± í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë¸Œë¼ìš°ì €ìš© document ë“±ì˜ DOM APIëŠ” ì‚¬ìš© í•  ìˆ˜ ì—†ë‹¤.
3. getServerSideProps ì•ˆì—ì„œ ì„œë²„ ì½”ë“œë¥¼ ì§ì ‘ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì•ˆì—ì„œ [API ê²½ë¡œ](https://nextjs.org/docs/api-routes/introduction)ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ fetch()ë¥¼ ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ëœë‹¤. ì™¸ë¶€ API ê°€ì ¸ì˜¤ëŠ” ê±´ ê´œì°®ìŒ.
4. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©ì‹œ GetServerSidePropsë¥¼ ì‚¬ìš©í•˜ì—¬ íƒ€ì… ì§€ì •ì´ ê°€ëŠ¥í•˜ë‹¤.

```jsx
import { GetServerSideProps } from "next";

export const getServerSideProps: GetServerSideProps = async (context) => {
  // ...
};
```

1. í˜ì´ì§€ì—ì„œë§Œ export ê°€ëŠ¥.
2. í˜ì´ì§€ì—ì„œë§Œ ë‚´ë³´ë‚¼ ìˆ˜ ìˆë‹¤. í˜ì´ì§€ê°€ ëœë”ë§ ë˜ê¸° ì „ì— í•„ìš”í•œ ëª¨ë“  ë°ì´í„°ê°€ ìˆì–´ì•¼í•˜ê¸° ë•Œë¬¸. ë˜í•œ export async function getServerSideProps() {} ì˜ í˜•íƒœë¡œë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë©° propsë¡œëŠ” í™œìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

### [í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°](https://nextjs.org/docs/basic-features/data-fetching#fetching-data-on-the-client-side)

í˜ì´ì§€ì— ìì£¼ ì—…ë°ì´íŠ¸ë˜ëŠ” ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ ìˆê³  ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë Œë”ë§í•  í•„ìš”ê°€ ì—†ëŠ” ê²½ìš° í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

1. ë¨¼ì € ë°ì´í„°ê°€ ì—†ëŠ” í˜•íƒœì˜ í˜ì´ì§€ë¥¼ ëœë”ë§í•œë‹¤. í˜ì´ì§€ì˜ ì¼ë¶€ëŠ” ì •ì  ìƒì„±ì„ ì‚¬ìš©í•˜ì—¬ ë¯¸ë¦¬ ëœë”ë§í•  ìˆ˜ ìˆë‹¤. ëˆ„ë½ëœ ë°ì´í„°ì— ëŒ€í•œ ë¡œë“œ ìƒíƒœë¥¼ í‘œì‹œí•  ìˆ˜ ìˆë‹¤.
2. í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì¤€ë¹„ê°€ ë˜ë©´ í‘œì‹œí•œë‹¤.

ğŸ‘‰ SEOì™€ ê´€ë ¨ì´ ì—†ëŠ” ë¹„ê³µê°œ ì‚¬ìš©ìë³„ í˜ì´ì§€ì— ì í•©í•˜ë‹¤. (ëŒ€ì‹œë³´ë“œ ë“±)

### [ë™ì  ë¼ìš°íŒ…](https://nextjs.org/docs/routing/dynamic-routes)

[ ... ] í˜•ì‹ì˜ í˜ì´ì§€ëŠ” ë™ì  í˜ì´ì§€ì´ë‹¤. ê¸€ë¡œ ì„¤ëª… ë¶ˆê°€.. ì½”ë“œì™€ ë¬¸ì„œ ì°¸ê³ .

> í¬ê´„ ë¼ìš°íŒ…? useRouter?

> pages/categories/[id].js. êµ¬í˜„ â†’ IDê°€ ì§€ì •ëœ íŠ¹ì • ê²Œì‹œë¬¼ì„ ê°€ì ¸ì˜¤ë ¤ë©´ `getStaticProps`ë¥¼ ì‚¬ìš©í•˜ê³  ê°€ëŠ¥í•œ ëª¨ë“  ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ì„ ê°€ì ¸ì˜¤ë ¤ë©´ `getStaticPaths`ë¥¼ ì‚¬ìš©

### [API ê²½ë¡œ](https://nextjs.org/docs/api-routes/introduction)

API ë¼ìš°íŠ¸ëŠ” ì•± ë‚´ì— API ì—”ë“œ í¬ì¸íŠ¸ë¥¼ ë§Œë“¤ë„ë¡ í•´ì¤€ë‹¤.

'pages/api/\*'

```jsx
export default function handler(req, res) {
  res.status(200).json({ text: "Hello" });
}
```

â—'getStaticProps' ë‚˜ 'getStaticPaths' ì—ì„œ API ë¼ìš°íŠ¸ë¥¼ ê°€ì ¸ì™€ì„œëŠ” ì•ˆ ëœë‹¤. â†’ ì§ì ‘ ì„œë²„ ì½”ë“œ ì‘ì„±

â“ê·¸ëŸ¼ ì–¸ì œ ì“¸ê¹Œ? ë“¤ì–´ì˜¤ëŠ” ë°ì´í„°ë¥¼ DBì— ì €ì¥í•  ë•Œ ì§ì ‘ ì €ì¥í•˜ëŠ” ì½”ë“œ ì‘ì„± (form input POST ìš”ì²­í•  ë•Œ), íƒ€ì‚¬ APIì™€ ì•ˆì „í•˜ê²Œ í†µì‹ , CMSì—ì„œ ì´ˆì•ˆ ì½˜í…ì¸  ë¯¸ë¦¬ë³´ê¸°

### [API ë¯¸ë“¤ì›¨ì–´](https://nextjs.org/docs/api-routes/api-middlewares)

### [Next.jsì— íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì ìš©í•˜ê¸°](https://nextjs.org/docs/basic-features/typescript#pages)

### [ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ ìœ„í•œ React Hooks : SWR](https://swr.vercel.app/ko)

## ì°¸ê³ 

Next.js ì‹œì‘í•˜ê¸° ê³µì‹ ë¬¸ì„œ : [https://nextjs.org/learn/basics/create-nextjs-app](https://nextjs.org/learn/basics/create-nextjs-app)

ë²ˆì—­ ì°¸ê³  : [https://velog.io/@wolverine/ë²ˆì—­-Next.js-ì‹œì‘í•˜ê¸°-1.-Create-a-Next.js-App](https://velog.io/@wolverine/%EB%B2%88%EC%97%AD-Next.js-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-1.-Create-a-Next.js-App)

ë²ˆì—­ ì°¸ê³  : [https://kimsangyeon.github.io/javascript/nextjs/2021/04/02/nextjs-data-fetching.html](https://kimsangyeon.github.io/javascript/nextjs/2021/04/02/nextjs-data-fetching.html)

Next.js ê³µì‹ ë¬¸ì„œ : [https://nextjs.org/docs/getting-started](https://nextjs.org/docs/getting-started)

ğŸƒğŸ»â€â™€ï¸[ê¹ƒí—ˆë¸Œ ë§í¬](https://github.com/josubin47/nextjs-todolist)
